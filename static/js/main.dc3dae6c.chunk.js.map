{"version":3,"sources":["store/appStore/actionType.ts","store/appStore/reducer.ts","store/storeFactory.tsx","store/appStore/appStore.ts","store/appStore/action.ts","pages/Index/Index.tsx","router/router.tsx","components/Header/Header.tsx","utils/sessionStorage.ts","components/NavTool/NavTool.tsx","assets/fonts/font.ts","components/BaseMenu/MenusWidget.tsx","components/BaseMenu/BaseMenu.tsx","utils/common-func.ts","pages/Home/Home.tsx","router/SubRoute.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["FONTSIZE","Symbol","INIT_MENU_LIST","SIDE_MENU_LIST","COLLAPSED","defaultState","userInfo","collapsed","rootFontSize","hasAuth","projectInfo","sideMenuLsit","initMenuList","reducer","dispatchAction","Context","React","createContext","state","withStore","Comp","props","useReducer","dispatch","value","useMemo","Provider","useStore","useContext","useAction","createStore","action","type","ACTION_TYPE","initMenuLsit","data","setRootFontSize","setInitMenuList","setSideMenuList","setCollapsed","Index","className","memo","asyncRouter","path","name","exact","components","show","icon","code","children","withRouter","session","key","opt","JSON","stringify","window","sessionStorage","setItem","error","Promise","reject","getItem","undefined","parse","removeItem","clear","homeUrl","finalList","store","useAppStore","tabsWrapper","tabDomList","tabDomWidthList","appAction","useAppAction","useState","menuTabs","setMenuTabs","curMenuTab","activeKey","setActiveKey","uiMaxLength","setMaxLenth","useEffect","maxWidth","offsetWidth","totalWidth","Object","keys","forEach","keyname","index","i","length","history","list","curPathname","location","pathname","setMenuList","homeRouter","find","item","home","finalMenuTabs","some","curTab","splice","newFinalMenuTabs","tabs","menuItem","hasTab","itemIndex","findIndex","setFirstPositon","dropByCacheKey","slice","push","onChangeMenuDropdown","params","ind","panes","closeAll","closeOther","element","finalPanes","filter","finalKeys","map","itab","includes","tabItem","dropMenu","onClick","title","overlayClassName","overlay","trigger","ref","tabDom","menuItemClick","e","targetKey","stopPropagation","nativeEvent","stopImmediatePropagation","preventDefault","pitem","curPath","removeTab","TIcon","createFromIconfontCN","scriptUrl","activePath","setActivePath","openItem","setOpenItem","openPath","getActivePath","mList","target","menu","indexOf","onRouterClick","isActive","pathTemp","lastIndexOf","getOffsetBodyTop","node","tTop","offsetTop","scrollTop","offsetParent","onHover","nodes","currentTarget","childNodes","style","top","left","menuIterator","menus","onMouseOver","mainMenu","isMainItemActive","filterMainMenuChildren","itm","onMainRouterClick","height","width","Number","CommonFunc","setCookie","expireTime","expire","Date","setTime","getTime","document","cookie","escape","toUTCString","getCookie","reg","RegExp","result","match","unescape","removeCookie","this","getUrlParams","paramName","paramUrl","url","search","searchStr","substr","decryptSearch","decrypt","split","reduce","obj","param","getMenuCode","menuParams","menuCodeObj","getNewRouter","remoteRouterList","localRouterList","getFirstPath","routerList","newRoute","setNewRoute","reGroupMenus","newMenuList","getRouterTterator","router","cacheKey","component","SubRoute","j","render","setFont","onresize","clientWidth","documentElement","console","log","fontSize","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.dc3dae6c.chunk.js","sourcesContent":["export const FONTSIZE = Symbol(\"FONTSIZE\"); \nexport const INIT_MENU_LIST = Symbol(\"INIT_MENU_LIST\");\nexport const SIDE_MENU_LIST = Symbol(\"SIDE_MENU_LIST\");\nexport const COLLAPSED = Symbol(\"COLLAPSED\");\n","import * as ACTION_TYPE from \"./actionType\";\n\ninterface IAppState {\n  userInfo: any,\n  collapsed: boolean,\n  rootFontSize: number | null,\n  hasAuth: boolean | null,\n  projectInfo: any | null,\n  // menuTabs:any[],\n  // curMenuTab:string,\n  sideMenuLsit:any[],\n  initMenuList: any[]\n}\n\nconst defaultState: IAppState = {\n  userInfo: {\n    \"userType\": 0\n  },\n  collapsed: false,\n  rootFontSize: null,\n  hasAuth: null,\n  projectInfo: null,\n  sideMenuLsit:[], // 侧边菜单列表\n  // menuTabs:[], // 页签列表\n  // curMenuTab:\"\", // 当前页签,\n  initMenuList: [] // 后台返回菜单列表\n};\n\nconst appReducer = (state = defaultState, action: any) => {\n    switch (action.type) {\n      case ACTION_TYPE.FONTSIZE:\n        return { ...state, rootFontSize: action.rootFontSize };\n      case ACTION_TYPE.INIT_MENU_LIST:\n        return { ...state, initMenuLsit: action.data };\n      case ACTION_TYPE.SIDE_MENU_LIST:\n        return { ...state, sideMenuLsit: action.data };\n      case ACTION_TYPE.COLLAPSED:\n        return { ...state, collapsed: action.data };\n      default:\n        return state;\n    }\n  };\n  \n  export {\n    appReducer,\n    defaultState\n  };","import React, { useContext, useReducer, useMemo } from \"react\"\ninterface IContext { \n    state: any, \n    dispatch?: React.Dispatch<any> | undefined \n} \nexport const createStore = (reducer: (state: any, action: any) => object, defaultState: object, dispatchAction: any) => { \n    const Context = React.createContext<IContext>({ state: defaultState })\n    const withStore = (Comp: React.FC) => (props: any) => { \n        const [state, dispatch] = useReducer(reducer, defaultState)\n        const value = useMemo(() => ({ state, dispatch }), [state])\n        return <Context.Provider value={value}> <Comp {...props} /> </Context.Provider>\n    }\n    const useStore = () => { \n        const { state } = useContext(Context)\n        return state\n    }\n    const useAction = () => { \n        const { dispatch } = useContext(Context)\n        return dispatchAction(dispatch)\n    }\n    return { withStore, useStore, useAction }\n};","import { createStore } from \"../storeFactory\"\nimport { appReducer, defaultState } from \"./reducer\"\nimport { dispatchAction } from \"./action\"\n\nconst { withStore, useStore, useAction } = createStore(appReducer, defaultState, dispatchAction)\n\nexport { \n    withStore, \n    useStore as useAppStore, \n    useAction as useAppAction \n};","import * as ACTION_TYPE from \"./actionType\"; \n\nexport const dispatchAction = (dispatch: any) => ({ \n    setRootFontSize(rootFontSize: number) { \n        dispatch({ type: ACTION_TYPE.FONTSIZE, rootFontSize}); \n    },\n    setInitMenuList(data: any[]) {\n        dispatch({ type: ACTION_TYPE.INIT_MENU_LIST, data });\n    },\n    setSideMenuList(data: any[]) {\n        dispatch({ type: ACTION_TYPE.SIDE_MENU_LIST, data });\n    },\n    setCollapsed(data: boolean) {\n        dispatch({ type: ACTION_TYPE.COLLAPSED, data });\n    }\n});","import React, { memo } from \"react\";\nimport \"./Index.less\";\nimport { InterPropsType } from './index.d'; \nfunction Index(props: InterPropsType) { \n\n    return <div className=\"layout\">\n        <div className=\"o1\">风的人 额额 额头儿童你定吧IE和人家任何决定 减肥计划关机 感觉到跟你明年初吗密码吗吗密码买袋内 模版吗的v个金</div>\n        <div className=\"o2\">222</div>\n    </div>\n}\n\nexport default memo(Index);","import Index from \"pages/Index/Index\"\n\nconst asyncRouter: any = [\n    {\n        path: \"/one\",\n        name: \"主页\",\n        exact: true,\n        components: Index,\n        show: true,\n        icon: [\"iconn-webui-home\", \"iconn-webui-home-active\"],\n        code: \"\"\n    },\n    {\n        path: \"/two\",\n        name: \"主页\",\n        exact: true,\n        components: null,\n        show: true,\n        icon: [\"iconn-webui-home\", \"iconn-webui-home-active\"],\n        code: \"\",\n        children: [\n            {\n                path: \"/two\",\n                name: \"二级路由\",\n                exact: true,\n                components: Index,\n                show: true,\n                code: \"\"\n            },\n        ]\n    },\n    {\n        path: \"/three\",\n        name: \"主页\",\n        exact: true,\n        components: null,\n        show: true,\n        icon: [\"iconn-webui-home\", \"iconn-webui-home-active\"],\n        code: \"\",\n        children: [\n            {\n                path: \"/three\",\n                name: \"二级路由\",\n                exact: true,\n                components: null,\n                show: true,\n                code: \"\",\n                children: [\n                    {\n                        path: \"/three\",\n                        name: \"三级路由\",\n                        exact: true,\n                        components: Index,\n                        show: true,\n                        code: \"\"\n                    },\n                ]\n            },\n        ]\n    }\n]\n\nexport default asyncRouter","import React, { memo } from \"react\";\n// import logoIcon from \"assets/image/headerLogo.png\";\nimport { withRouter } from \"react-router-dom\";\nimport \"./Header.less\";\n\nfunction HeaderComponent(props: any): JSX.Element {\n\n\n  return (\n    <header className=\"header-container\">\n      <div className=\"hb-title\">\n        {/* < img className=\"logo\" src={\"\"} /> */}\n        <span className=\"system-name\">平安国际智慧城市</span>\n      </div>\n      <div className=\"hb-system\">\n        <i className=\"icon iconfont avatar\" />\n        <span className=\"user-name\">深圳</span>\n        <span className=\"center-line\" />\n        {\n          <i\n            className=\"icon iconfont platform\"\n          >\n            &#xe61f;\n          </i>\n        }\n        <i\n          className=\"icon iconfont back\"\n        >\n          &#xe634;\n            </i>\n      </div>\n    </header>\n  );\n}\n\nexport default memo(withRouter(HeaderComponent));","export class SessionStorage { \n    public setItem(key:string,opt: any) { \n        try { \n            const data:string = JSON.stringify(opt); \n            window.sessionStorage.setItem(key,data); \n        } catch (error){ \n            Promise.reject(error) \n        } \n    } \n    public getItem(key: string) { \n        try { \n            const data: string | null = window.sessionStorage.getItem(key); \n            if(data === null || data === undefined || data === \"undefined\" || data === \"null\" ) { \n                return data \n            } \n            return JSON.parse(data); \n        } catch (error) { \n            Promise.reject(error) \n        } \n    }\n    public removeItem(key: string) { \n        try { \n            window.sessionStorage.removeItem(key); \n        } catch (error) { \n            Promise.reject(error) \n        } \n    } \n    public clear() { \n        try { \n            window.sessionStorage.clear(); \n        } catch (error) { \n            Promise.reject(error) \n        } \n    } \n} \n\nexport const session = new SessionStorage();","import React, { useEffect, useState, memo } from \"react\";\nimport { Dropdown } from \"antd\";\nimport { withRouter, } from 'react-router-dom'; \nimport { useAppStore, useAppAction} from \"store/appStore/appStore\"; \nimport { session } from 'utils/sessionStorage'; \n// import {IProps} from \"./NavTool.d\";\nimport { dropByCacheKey } from \"react-router-cache-route\"; \nimport \"./NavTool.less\";\nconst homeUrl = session.getItem(\"homeUrl\");\nlet finalList:any = [];\nconst MAX_LIMIT = 10; \n\nconst NavTool: React.FC<any> = (props: any): JSX.Element => { \n    const store = useAppStore(); \n    let tabsWrapper:any = null; \n    const tabDomList:object = {}; \n    const tabDomWidthList: any = {}; \n    const appAction = useAppAction(); \n    const [menuTabs, setMenuTabs]: any = useState([]);\n    const [activeKey,setActiveKey] = useState(store.curMenuTab); \n    const [uiMaxLength,setMaxLenth] = useState(0); \n\n    useEffect(()=>{ \n        return () => { \n            appAction.setSideMenuList([]); \n            finalList = []; \n        } \n    // eslint-disable-next-line\n    },[]);\n\n    useEffect(() => { \n        const maxWidth = tabsWrapper.offsetWidth; \n        let totalWidth = 0; \n        Object.keys(tabDomList).forEach((keyname:string,index:number) => { \n            tabDomWidthList[keyname] = tabDomList[keyname].offsetWidth \n            // totalWidth += tabDomList[keyname].offsetWidth \n        }); \n        for(let i = 0;i < menuTabs.length;i++){ \n             // eslint-disable-next-line\n            totalWidth += tabDomWidthList[menuTabs[i].path] ? tabDomWidthList[menuTabs[i].path] : 0; \n            if(totalWidth > maxWidth){ \n                setMaxLenth(i) \n                return \n            } \n        } \n    // eslint-disable-next-line\n    },[menuTabs])\n    /* 设置主页 */ \n    useEffect(()=>{\n        const history:any =  props.history\n        const list = store.sideMenuLsit\n        if (list.length) {\n        // 从 session 中取出首页 路由\n        // 获取当前 路由\n        const curPathname = history.location.pathname \n        // 扁平化路由列表\n        // const finalList = setMenuList(list) \n        setMenuList(list) \n        // 获取主页路由对象\n        const homeRouter = finalList.find((item:any)=>item.path === homeUrl) \n        const home = homeRouter ? homeRouter : finalList[0];\n        // 判断页签列表里有没有主页\n        const hasHome = menuTabs.some((item:any)=>item.path === home.path);\n        // 如果没有主页就添加主页 \n        const finalMenuTabs: any = hasHome ? menuTabs : [home,...menuTabs];\n\n        if (curPathname !== home.path) {\n            const curTab = finalList.find((item: any) => item.path === curPathname)\n            if (curTab) finalMenuTabs.splice(1,0,curTab)\n            const newFinalMenuTabs: any = [...finalMenuTabs]\n            setMenuTabs([newFinalMenuTabs]);\n        } else {\n            setMenuTabs(finalMenuTabs)\n        }\n        }\n    // eslint-disable-next-line\n    },[store.sideMenuLsit])\n\n    useEffect(()=>{\n        // 存储 页签列表\n        let tabs = [...menuTabs];\n        const path = props.location.pathname\n        const menuItem: any = finalList.find((item:any)=>item.path === path)\n        const hasTab = tabs.some((item:any)=>item.path === path)\n        if(hasTab){\n          const itemIndex = tabs.findIndex((item:any) => item.path === path)\n          if(itemIndex > uiMaxLength && uiMaxLength !== 0) setFirstPositon(menuItem,itemIndex);\n        }\n        if(!hasTab && menuItem){\n          tabs.splice(1,0,menuItem)\n          // 超限处理\n          if(tabs.length > MAX_LIMIT){\n            dropByCacheKey(tabs[tabs.length - 1].code);\n            tabs = tabs.slice(0, 10)\n          }\n          setMenuTabs([...tabs])\n        }\n        // console.log(getCachingKeys(),\"key\");\n        setActiveKey(props.location.pathname)\n    // eslint-disable-next-line\n      },[props.location.pathname])\n    \n      // 扁平化 侧边菜单数据\n      const setMenuList = (list:any[])=>{\n        for (let index = 0; index < list.length; index++) {\n          const children: any = list[index].children\n          if (children && children.length > 0) {\n            setMenuList(children)\n          } else {\n            finalList.push(list[index])\n          }\n        }\n    }\n    // 切换选中的页签\n    const menuItemClick = (index: number, item: any) => {\n        setActiveKey(item.path)\n        props.history.push(item.path)\n    }\n\n    // 删除页签\n    const removeTab = (item:any,e:any) => {\n        dropByCacheKey(item.code)\n        const targetKey:string = item.path;\n        if(e) e.stopPropagation();\n        if(e) e.nativeEvent.stopImmediatePropagation();\n        if(e) e.preventDefault();\n        const panes = JSON.parse(JSON.stringify(menuTabs))\n        if(panes.length === 1) return;\n        const index = panes.findIndex((pitem:any)=>pitem.path === targetKey)\n        panes.splice(index,1)\n        if(targetKey === activeKey){\n        const curPath = panes[index] ? panes[index].path : panes[panes.length -1].path\n        setMenuTabs(panes)\n        props.history.push(curPath)\n        }else{\n        setMenuTabs(panes)\n        }\n    }\n    // 切换更多菜单的选项\n    const onChangeMenuDropdown = (name:string,params?:any,ind?:number)=>{\n        const panes = JSON.parse(JSON.stringify(menuTabs))\n        if(panes.length <= 1) return\n        switch(name){\n        case \"close-all\":\n            closeAll(panes);\n            break;\n        case \"close-other\":\n            closeOther(panes);\n            break;\n        case \"active\":\n            if(activeKey === params.path) return\n            if(ind !== undefined && ind > uiMaxLength && uiMaxLength !== 0) setFirstPositon(params,ind)\n            props.history.push(params.path)\n            break;\n        }\n    }\n\n    // 关闭所有处理逻辑\n    const closeAll = (panes:any) => {\n        // 清除模块缓存\n        panes.forEach((element:any,index:number) => {\n        if(index !== 0){\n            dropByCacheKey(element.code)\n        }\n        });\n        setMenuTabs([panes[0]])\n        props.history.push(panes[0].path)\n    }\n    // 关闭其他处理逻辑\n    const closeOther = (panes:any) => {\n        const finalPanes = panes.filter((item:any,index:number)=> index === 0 || item.path === activeKey)\n        const finalKeys = finalPanes.map((itab:any) => itab.code);\n        panes.forEach((item:any) => {\n        if(!finalKeys.includes(item.code)){\n            dropByCacheKey(item.code);\n        }\n        })\n        setMenuTabs(finalPanes)\n    }\n\n    // 将激活的tab放置到首位\n    const setFirstPositon  = (tabItem:any,index:number) => {\n        const panes = JSON.parse(JSON.stringify(menuTabs))\n        panes.splice(index,1)\n        panes.splice(1,0,tabItem)\n        setMenuTabs(panes)\n    }\n    const dropMenu = (\n        <div className=\"nav-tool-box\">\n           <div className=\"toolbox-dropdown-item\" onClick={()=>{onChangeMenuDropdown(\"close-all\")}}>关闭全部</div>\n           <div className=\"toolbox-dropdown-item\" onClick={()=>{onChangeMenuDropdown(\"close-other\")}}>\n             关闭其他标签\n           </div >\n           <div className=\"toolbox-dropdown-divider\" />\n           {\n            menuTabs.map((item:any,index:number)=>{\n              return (\n                <div \n                  key={item.path}\n                  className={`toolbox-dropdown-item ${activeKey === item.path ? \"toolbox-dropdown-item--active\" : \"\"}`} \n                  title={item.name}\n                  onClick={()=>{onChangeMenuDropdown(\"active\",item,index)}}\n                >\n                  {item.name}\n                </div>\n              )\n            })\n          }\n        </div>\n    );\n    \n    return ( \n    <div className=\"nav-tool-container\">\n        <div className=\"nav-tool-bar\"> \n            <Dropdown \n                overlayClassName={\"nav-tool-box-dropdown\"} \n                overlay={dropMenu} \n                trigger={[\"click\"]}\n            > \n                <div className=\"btn-more iconfont iconc-more1\" /> \n            </Dropdown>\n            <ul className=\"nav-tool-menutabs\" ref={(ref)=> { tabsWrapper = ref } }> \n            { \n                menuTabs.map((item:any,index:number) => { \n                    if(uiMaxLength!==0 && uiMaxLength < index) return false\n                    return( \n                    <li className={`menu-tab ${item.path === activeKey ? \"menu-tab-active\" : \"\"}`} key={item.path} \n                        ref={(tabDom)=>{ tabDomList[item.path] = tabDom }} \n                        onClick={()=>{menuItemClick(index,item)}} \n                    >\n                    { \n                        index === 0 ? <span className=\"iconfont iconc-home1 nav-tool-item__home\" title={item.name}/> : \n                        <span title={item.name}> \n                            {item.name} \n                            <i className=\"iconfont btn-close iconc-close\" onClick={(e)=>{(removeTab(item,e))}}/> \n                        </span> \n                    } \n                    </li> \n            )})} \n            </ul> \n        </div>\n        <div className=\"nav-tool-content\">\n            {props.children} \n        </div> \n    </div> \n    ) \n} \n\nexport default memo(withRouter(NavTool))","\nimport { createFromIconfontCN } from '@ant-design/icons';\n\nconst TIcon = createFromIconfontCN({\n    scriptUrl: \"//at.alicdn.com/t/font_1437142_eg1afw76i9.js\"\n});\n\nexport default TIcon;\n","import React, { useState, useEffect, memo } from \"react\"; \nimport { withRouter } from \"react-router-dom\"; \nimport { useAppStore, useAppAction } from \"store/appStore/appStore\"; \nimport { BaseMenuProps, MenuList } from \"./BaseMenu.d\"; \nimport \"./MenusWidget.less\"; \nimport TIcon from 'assets/fonts/font'; \nconst ITEM_HEIGHT = 0.55; \nconst MenusWidget: React.FC<BaseMenuProps > = ({ list, history }) => { \n    const [activePath, setActivePath] = useState(\"\"); \n    const [openItem, setOpenItem] = useState(\"\"); \n    const store = useAppStore(); \n    const action = useAppAction(); \n\n    useEffect(() => { \n        action.setSideMenuList(list) \n        const openPath = getActivePath(activePath, list); \n        setOpenItem(openPath); \n        // eslint-disable-next-line\n    }, [list]); \n\n    useEffect(() => { \n        const pathname = history.location.pathname; \n        setActivePath(pathname); \n        const openPath = getActivePath(pathname, list); \n        setOpenItem(openPath); \n     // eslint-disable-next-line\n    }, [history.location.pathname]); \n\nconst getActivePath = (pathname:string,mList:MenuList[]) => { \n    const target = mList.find((menu:MenuList) => { \n        return pathname.indexOf(menu.path) > -1 \n    }); \n    return target ? target.path : \"\"; \n} \n\nconst onRouterClick = (item: MenuList,e?:any) => { \n    if(e) e.stopPropagation(); \n    if(!item.children && item.path){ \n        history.push(item.path); \n    } \n}\n\nconst onMainRouterClick = (item: MenuList) => { \n    if(item.children && item.children.length > 0){ \n        const path = openItem === item.path ? \"\" : item.path; setOpenItem(path); \n    } else { \n        onRouterClick(item); \n    } \n} \n\nconst isActive = (path:string) => { \n    if (!path) return \n    const pathTemp = path.lastIndexOf(\"/\") === path.length - 1 ? path : path+\"/\"; \n    return (activePath + \"/\").indexOf(pathTemp) > -1; \n} \nconst getOffsetBodyTop = (node:any) => { \n    let tTop = node.offsetTop ? node.offsetTop - node.scrollTop : 0; \n    if(node.offsetParent !== null){ \n        tTop += getOffsetBodyTop(node.offsetParent); \n    } \n    return tTop; \n} \nconst onHover = (e:any) => { \n    if(e) e.stopPropagation(); \n    const nodes = e.currentTarget.childNodes; \n    const offsetTop = getOffsetBodyTop(e.currentTarget); \n    const offsetWidth = e.currentTarget.offsetWidth; \n    for(let i = 0; i<nodes.length;i++){ \n        if(nodes[i].className === \"children-wrapper \"){ \n            nodes[i].style.top = offsetTop +\"px\"; \n            nodes[i].style.left = offsetWidth+\"px\"; \n        } \n    } \n}\nconst menuIterator = (menus: MenuList[] = []) => { \n    return <div className={`children-wrapper ${store.collapsed ? \"\" : \"\"}`} > { \n        menus.map((item: MenuList, ind) => { \n            return item.show && <div className={`menu-item ${isActive(item.path) ? \"menu-active\" : \"\"}`} key={`children${ind}`} \n                onClick={(e)=>{ onRouterClick(item,e) }} onMouseOver={onHover}> \n                <div className=\"menu-item-title\">{item.name}</div> \n                { \n                    item.children ? menuIterator(item.children) : null \n                }\n                { \n                    item.children ? <span className=\"iconfont iconc-expand\" /> : null \n                } \n            </div> \n            }) \n        } \n    </div> \n}\n\nreturn ( \n    <div className={`menu-widget-container ${store.collapsed ? \"collapse-menu-container\" : \"expand-menu-container\"}`} > \n        { \n            list.map((mainMenu:MenuList, index) => { const isMainItemActive = isActive(mainMenu.path); \n                const filterMainMenuChildren: any = mainMenu.children && mainMenu.children.filter(itm => itm.show) \n                const length = filterMainMenuChildren && openItem === mainMenu.path ? filterMainMenuChildren.length + 1 : 1; \n                return mainMenu.show && <div className={`parent-wrapper ${isMainItemActive ? \"menu-active\" : \"\"}`} \n                    onClick={()=>{ onMainRouterClick(mainMenu) }} key={`main${index}`} \n                    style={{ height: length * ITEM_HEIGHT+\"rem\" }}> \n                    <div className={`menu-item ${isMainItemActive ? \"menu-active\" : \"\"}`}> \n                    { mainMenu.icon ? <TIcon className={\"icon\"} type={ isMainItemActive ? mainMenu.icon[1] : mainMenu.icon[0]} /> : null } \n                        <div className=\"parent-name menu-item-title\">{mainMenu.name}</div> \n                        { \n                            filterMainMenuChildren && filterMainMenuChildren.length > 0 ? <span className={`iconfont iconc-expand ${length > 1 ? \"arrow-up\" : \"arrow-down\"}`} /> : null \n                        } \n                        </div> \n                        { filterMainMenuChildren ? menuIterator(filterMainMenuChildren) : null } \n                    </div> \n            }) \n        } \n        </div> \n    ); \n}; \n\nexport default memo(withRouter(MenusWidget));","import React, { memo } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport { useAppStore,useAppAction} from \"store/appStore/appStore\";\nimport { BaseMenuProps } from \"./BaseMenu.d\";\nimport MenusWidget from './MenusWidget';\nimport \"./BaseMenu.less\";\n\nconst BaseMenu: React.FC<BaseMenuProps> = ({ list }) => {\n  const action = useAppAction();\n  const store = useAppStore();\n\n  const handleCollapse = () => {\n    sessionStorage.setItem(\"collapsed\", `${Number(!store.collapsed)}`);    \n    action.setCollapsed(!store.collapsed);\n  };\n\n  return (\n    <div className={`base_container ${store.collapsed ? \"hidden\" : \"\" }`} style={{ width: store.collapsed ? \"0.6rem\" : \"2.4rem\" }}>\n      <MenusWidget list={list} />\n      <div className=\"collaspeBtn\" onClick={handleCollapse}>\n        <i className={`iconfont iconc-hidden ${!store.collapsed ? \"\" : \"rotate-icon\"} `} />\n        <span className=\"hidden-text\">{!store.collapsed ? \"隐藏\" : \"\"}</span>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(withRouter(BaseMenu));","import { InterRouteConfig } from '../router/router.d'; \nimport { session } from 'utils/sessionStorage'; \nconst CommonFunc = { \n    // tslint:disable-next-line:no-magic-numbers \n    setCookie(key: string, value: any, expireTime = 24 * 60 * 60 * 1000): void { \n        const expire = new Date(); \n        expire.setTime(expire.getTime() + expireTime); \n        document.cookie = `${key}=${escape(value)};expires=${expire.toUTCString()};path=/;`; \n    }, \n    getCookie(key: string): string | undefined { \n        const reg = new RegExp(`(^|)*${key}=([^;]*)(;|$)`); \n        const result = document.cookie.match(reg); \n        return result ? unescape(result[2]) : undefined \n    }, \n    removeCookie(key: string): void { \n        const expire = new Date(); \n        // tslint:disable-next-line:no-magic-numbers \n        expire.setTime(expire.getTime() - 24 * 60 * 60 * 1000); \n        const result = this.getCookie(key); \n        if (result) { \n            document.cookie = `${key}=${escape(result)};expires=${expire.toUTCString()};path=/`; \n        } \n    },\n    // 不传name返回所有值(object)，否则返回对应值\n    getUrlParams(paramName: string = \"\", paramUrl: string = \"\") {\n        let url: any = paramUrl ? \"?\" + paramUrl : window.location.search;\n        const searchStr = url.indexOf(paramName) > -1 ? url.substr(paramName.length + 2) : \"\";\n        const decryptSearch = this.decrypt(searchStr);\n        let params = decryptSearch.substr(0).split(\"&\").reduce((obj:object, item:any) => {\n        let param = item.split(\"=\");\n        obj[param[0]] = param[1];\n        return obj;\n        }, {});\n        // 返回结果\n        return params;\n    },\n    // 处理菜单返回数据\n    getMenuCode(menuParams:any,menuCodeObj={}):object{\n        // tslint:disable-next-line:no-unused-expression\n        menuParams && menuParams.length && menuParams.forEach((item: any) => {\n            menuCodeObj[item.code] = item;\n\n            if (item.children && item.children.length > 0) {\n                CommonFunc.getMenuCode(item.children, menuCodeObj);\n            }\n        })\n        return menuCodeObj;\n    },\n    // 处理路由逻辑\n    getNewRouter(remoteRouterList, localRouterList:InterRouteConfig[]):InterRouteConfig[]{ \n        // tslint:disable-next-line:no-unused-expression\n        if(true) return localRouterList;\n        // const localCodes = CommonFunc.getMenuCode(localRouterList);\n        // const newRouterList = remoteRouterList.map((item:any) =>{\n        // const newItem:InterRouteConfig = {...localCodes[item.menuCodeTp], ...item};\n        // if(localCodes[item.menuCodeTp]){\n        //     newItem.children = item.listMenus.length > 0 ? CommonFunc.getNewRouter(item.listMenus, localRouterList) : undefined;\n        //     newItem.name = item.meName;\n        //     newItem.show = true;\n        // }\n        // return newItem\n        // });\n        // return newRouterList;\n    },\n    \n    // 获取第一个跳转路由\n    getFirstPath(routerList:InterRouteConfig[]):any{\n        for (let index = 0; index < routerList.length; index++) {\n            const element = routerList[index];\n            if(element.show){\n            if(element.children && element.children.length > 0){\n                CommonFunc.getFirstPath(element.children);\n                return;\n            }\n            return session.setItem(\"homeUrl\", element.path);\n            }\n        }\n    },\n}\n\nexport default CommonFunc;","import React, { useState, useEffect, memo } from \"react\";\nimport \"./Home.less\";\nimport { withRouter } from \"react-router-dom\";\nimport Header from 'components/Header/Header';\nimport NavTool from 'components/NavTool/NavTool';\nimport BaseMenu from 'components/BaseMenu/BaseMenu';\nimport { InterPropsType } from './home.d'; \nimport { useAppStore } from \"store/appStore/appStore\"; \nimport asyncRouter from 'router/router'; \nimport CommonFunc from 'utils/common-func'; \nimport { session } from 'utils/sessionStorage';\n\n// const unityUrl = \"/\" + process.env.APP_NAME; \n\nfunction Home(props: InterPropsType) { \n    const store = useAppStore(); \n    const [newRoute,setNewRoute] = useState([]); \n\n    useEffect(()=>{ \n        reGroupMenus(store.initMenuList); \n     // eslint-disable-next-line\n    },[JSON.stringify(store.initMenuList)]); \n\n    useEffect(() => { \n        if(newRoute.length === 0) return; \n        CommonFunc.getFirstPath(asyncRouter); \n        const homeUrl = session.getItem(\"homeUrl\"); \n        if (props.history.location.pathname === homeUrl) props.history.push(homeUrl); \n        // if (props.history.location.pathname === `${unityUrl}/noMenuPage` && homeUrl) props.history.push(homeUrl); \n     // eslint-disable-next-line\n    }, [newRoute]) \n    \n    const reGroupMenus = (remoteRouterList) => { \n        const newMenuList: any = CommonFunc.getNewRouter(remoteRouterList, asyncRouter);\n        setNewRoute(newMenuList); \n        // if(newMenuList.length === 0){ \n        //     props.history.push(`${unityUrl}/noMenuPage`); \n        // } \n    }\n\n    return <div className=\"layout-wrapper\">\n        <Header />\n        <main className=\"layout-wrapper_body\">\n            <BaseMenu list={newRoute} />\n            <div className=\"layout-wrapper_content\">\n                <NavTool>\n                    {props.children}\n                </NavTool>\n            </div>\n        </main>\n    </div>\n}\n\nexport default memo(withRouter(Home));","import React, { memo, Fragment } from 'react'; \nimport { Switch, Route } from \"react-router-dom\";\n// import { useAppStore } from \"store/appStore/appStore\"; \n// import CommonFunc from \"utils/common-func\"; \nimport { InterRouteConfig } from './router.d'; \n// import CacheRoute, {CacheSwitch} from \"react-router-cache-route\"; \nimport asyncRouter from './router'; \nimport Home from 'pages/Home/Home'; \n// import { session } from 'utils/seesionStorage'; \n// import NoMenuPage from 'pages/NoMenuPage/NoMenuPage'; \n// const unityUrl = \"/\" + process.env.APP_NAME; \n// console.log(lazy, Route, Redirect, BrowserRouter)\n\nconst getRouterTterator = (routerList: InterRouteConfig[] = []) => { \n    return <Fragment key={\"cachkey\"}> \n    { \n        routerList.map((router: InterRouteConfig) => { \n            if(router.show && router.children && router.children.length > 0){ \n                return getRouterTterator(router.children); \n            } else { \n                return router.show ? <Route className=\"cach-container\" path={router.path} exact={router.exact} cacheKey={router.code} key={router.name} component={router.components} /> : null } }) \n            } \n    </Fragment> \n    }\n\nfunction SubRoute(props: any) { \n    return ( \n        // tslint:disable-next-line \n        <Home> \n            <Switch> \n                { \n                    asyncRouter.map((item: InterRouteConfig, j: number) => { \n                        if (item.show && item.children && item.children.length > 0) { \n                            return <Route path={item.path} key={item.name} cacheKey={item.code} render={() => \n                                getRouterTterator(item.children) } /> \n                        } else { \n                            return <Route path={item.path} exact={item.exact} key={item.name} cacheKey={item.code} component={item.components} /> \n                        } \n                    }) \n                } \n                {/* <Route path={`${unityUrl}/noMenuPage`} exact={true} component={NoMenuPage} />  */}\n                {/* {console.log(session.getItem(\"homeUrl\"))}  */}\n                {/* <Route path=\"*\" render={() => <Redirect to={session.getItem(\"homeUrl\") || \"\"} />} />  */}\n            </Switch> \n        </Home> \n    ); \n}\n\nexport default memo(SubRoute);\n","import React, { useEffect } from 'react'; \nimport { Switch, BrowserRouter } from \"react-router-dom\";\n// import WithLazyLoad from \"./components/WithLazyLoad/WithLazyLoad\";\nimport { withStore, useAppAction } from \"store/appStore/appStore\"; \nimport { SubRoute } from \"./router/index\"; \nimport \"assets/css/App.less\";\n\n// const unityUrl = \"/\" + process.env.APP_NAME;\n// const VlcmsThePrtal = WithLazyLoad(lazy(async () => import(/* webpackChunkName: \"VlcmsThePrtal\" */ \"pages/VlcmsThePrtal/VlcmsThePrtal\")));\n// console.log(Route, Redirect)\nlet UIWidth = 1920; // 设计稿宽度\nconst RootFontSizeRate = 100; // rem px换算比例\ninterface IAppProps {\n  [extra: string]: any\n}\n\nconst App: React.FC = (props: IAppProps) => {\n\n  const action = useAppAction()\n  // 初始化\n  useEffect(() => {\n    setFont()\n    window.onresize = setFont\n    // eslint-disable-next-line\n  }, []);\n\n  // 设置根字号\n  const setFont = () => {\n    const { clientWidth } = document.documentElement;\n    console.log(clientWidth)\n    if (clientWidth < 600) {\n      UIWidth = 750\n    } else {\n      UIWidth = 1920\n    }\n    const rootFontSize = clientWidth / UIWidth * RootFontSizeRate;\n    document.documentElement.style.fontSize = `${rootFontSize}px`;\n    action.setRootFontSize(rootFontSize)\n  };\n\n  return ( \n    <BrowserRouter> \n        <Switch> \n            <SubRoute />\n        </Switch> \n    </BrowserRouter> \n    );\n}\n\nexport default withStore(App);","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  // <React.StrictMode>\n    <App />,\n  // </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}