import{_ as r,a as t,b as n,c as e,d as o,e as i,f as u,g as c,h as s}from"./tslib-9dc4d8df.js";function a(r){return"function"==typeof r}var l,f=((l=function(r){return function(t){r(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(r,t){return t+1+") "+r.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}((function(r){Error.call(r),r.stack=(new Error).stack}))).prototype=Object.create(Error.prototype),l.prototype.constructor=l,l);function p(r,t){if(r){var n=r.indexOf(t);0<=n&&r.splice(n,1)}}var h=function(){function e(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}var o;return e.prototype.unsubscribe=function(){var e,o,i,u,c;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var l=r(s),p=l.next();!p.done;p=l.next()){p.value.remove(this)}}catch(w){e={error:w}}finally{try{p&&!p.done&&(o=l.return)&&o.call(l)}finally{if(e)throw e.error}}else s.remove(this);var h=this.initialTeardown;if(a(h))try{h()}catch(x){c=x instanceof f?x.errors:[x]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var v=r(d),y=v.next();!y.done;y=v.next()){var m=y.value;try{b(m)}catch(_){c=null!=c?c:[],_ instanceof f?c=t(t([],n(c)),n(_.errors)):c.push(_)}}}catch(g){i={error:g}}finally{try{y&&!y.done&&(u=v.return)&&u.call(v)}finally{if(i)throw i.error}}}if(c)throw new f(c)}},e.prototype.add=function(r){var t;if(r&&r!==this)if(this.closed)b(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(r)}},e.prototype._hasParent=function(r){var t=this._parentage;return t===r||Array.isArray(t)&&t.includes(r)},e.prototype._addParent=function(r){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(r),t):t?[t,r]:r},e.prototype._removeParent=function(r){var t=this._parentage;t===r?this._parentage=null:Array.isArray(t)&&p(t,r)},e.prototype.remove=function(r){var t=this._finalizers;t&&p(t,r),r instanceof e&&r._removeParent(this)},e.EMPTY=((o=new e).closed=!0,o),e}();function d(r){return r instanceof h||r&&"closed"in r&&a(r.remove)&&a(r.add)&&a(r.unsubscribe)}function b(r){a(r)?r():r.unsubscribe()}h.EMPTY;var v=void 0,y=!1,m={setTimeout:function(r,e){for(var o=[],i=2;i<arguments.length;i++)o[i-2]=arguments[i];var u=m.delegate;return(null==u?void 0:u.setTimeout)?u.setTimeout.apply(u,t([r,e],n(o))):setTimeout.apply(void 0,t([r,e],n(o)))},clearTimeout:function(r){var t=m.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(r)},delegate:void 0};function w(r){m.setTimeout((function(){throw r}))}function x(){}var _=function(r){function t(t){var n=r.call(this)||this;return n.isStopped=!1,t?(n.destination=t,d(t)&&t.add(n)):n.destination=A,n}return e(t,r),t.create=function(r,t,n){return new P(r,t,n)},t.prototype.next=function(r){this.isStopped||this._next(r)},t.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(r){this.destination.next(r)},t.prototype._error=function(r){try{this.destination.error(r)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(h),g=Function.prototype.bind;function S(r,t){return g.call(r,t)}var T=function(){function r(r){this.partialObserver=r}return r.prototype.next=function(r){var t=this.partialObserver;if(t.next)try{t.next(r)}catch(n){E(n)}},r.prototype.error=function(r){var t=this.partialObserver;if(t.error)try{t.error(r)}catch(n){E(n)}else E(r)},r.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(t){E(t)}},r}(),P=function(r){function t(t,n,e){var o,i,u=r.call(this)||this;a(t)||!t?o={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=e?e:void 0}:u&&y?((i=Object.create(t)).unsubscribe=function(){return u.unsubscribe()},o={next:t.next&&S(t.next,i),error:t.error&&S(t.error,i),complete:t.complete&&S(t.complete,i)}):o=t;return u.destination=new T(o),u}return e(t,r),t}(_);function E(r){w(r)}var A={closed:!0,next:x,error:function(r){throw r},complete:x},O="function"==typeof Symbol&&Symbol.observable||"@@observable";function z(r){return r}var j=function(){function r(r){r&&(this._subscribe=r)}return r.prototype.lift=function(t){var n=new r;return n.source=this,n.operator=t,n},r.prototype.subscribe=function(r,t,n){var e,o=this,i=(e=r)&&e instanceof _||function(r){return r&&a(r.next)&&a(r.error)&&a(r.complete)}(e)&&d(e)?r:new P(r,t,n);return function(){var r=o,t=r.operator,n=r.source;i.add(t?t.call(i,n):n?o._subscribe(i):o._trySubscribe(i))}(),i},r.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(t){r.error(t)}},r.prototype.forEach=function(r,t){var n=this;return new(t=I(t))((function(t,e){var o=new P({next:function(t){try{r(t)}catch(n){e(n),o.unsubscribe()}},error:e,complete:t});n.subscribe(o)}))},r.prototype._subscribe=function(r){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(r)},r.prototype[O]=function(){return this},r.prototype.pipe=function(){for(var r,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(0===(r=t).length?z:1===r.length?r[0]:function(t){return r.reduce((function(r,t){return t(r)}),t)})(this)},r.prototype.toPromise=function(r){var t=this;return new(r=I(r))((function(r,n){var e;t.subscribe((function(r){return e=r}),(function(r){return n(r)}),(function(){return r(e)}))}))},r.create=function(t){return new r(t)},r}();function I(r){var t;return null!==(t=null!=r?r:v)&&void 0!==t?t:Promise}function U(r){return function(t){if(function(r){return a(null==r?void 0:r.lift)}(t))return t.lift((function(t){try{return r(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}function k(r,t,n,e,o){return new Y(r,t,n,e,o)}var Y=function(r){function t(t,n,e,o,i,u){var c=r.call(this,t)||this;return c.onFinalize=i,c.shouldUnsubscribe=u,c._next=n?function(r){try{n(r)}catch(e){t.error(e)}}:r.prototype._next,c._error=o?function(r){try{o(r)}catch(n){t.error(n)}finally{this.unsubscribe()}}:r.prototype._error,c._complete=e?function(){try{e()}catch(r){t.error(r)}finally{this.unsubscribe()}}:r.prototype._complete,c}return e(t,r),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;r.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(_),F=function(r){return r&&"number"==typeof r.length&&"function"!=typeof r};function R(r){return a(null==r?void 0:r.then)}function M(r){return a(r[O])}function L(r){return Symbol.asyncIterator&&a(null==r?void 0:r[Symbol.asyncIterator])}function q(r){return new TypeError("You provided "+(null!==r&&"object"==typeof r?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var B="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function C(r){return a(null==r?void 0:r[B])}function D(r){return o(this,arguments,(function(){var t,n,e;return i(this,(function(o){switch(o.label){case 0:t=r.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,u(t.read())];case 3:return n=o.sent(),e=n.value,n.done?[4,u(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,u(e)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function G(r){return a(null==r?void 0:r.getReader)}function H(t){if(t instanceof j)return t;if(null!=t){if(M(t))return i=t,new j((function(r){var t=i[O]();if(a(t.subscribe))return t.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(F(t))return o=t,new j((function(r){for(var t=0;t<o.length&&!r.closed;t++)r.next(o[t]);r.complete()}));if(R(t))return e=t,new j((function(r){e.then((function(t){r.closed||(r.next(t),r.complete())}),(function(t){return r.error(t)})).then(null,w)}));if(L(t))return J(t);if(C(t))return n=t,new j((function(t){var e,o;try{for(var i=r(n),u=i.next();!u.done;u=i.next()){var c=u.value;if(t.next(c),t.closed)return}}catch(s){e={error:s}}finally{try{u&&!u.done&&(o=i.return)&&o.call(i)}finally{if(e)throw e.error}}t.complete()}));if(G(t))return J(D(t))}var n,e,o,i;throw q(t)}function J(r){return new j((function(t){(function(r,t){var n,e,o,u;return c(this,void 0,void 0,(function(){var c,a;return i(this,(function(i){switch(i.label){case 0:i.trys.push([0,5,6,11]),n=s(r),i.label=1;case 1:return[4,n.next()];case 2:if((e=i.sent()).done)return[3,4];if(c=e.value,t.next(c),t.closed)return[2];i.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=i.sent(),o={error:a},[3,11];case 6:return i.trys.push([6,,9,10]),e&&!e.done&&(u=n.return)?[4,u.call(n)]:[3,8];case 7:i.sent(),i.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(r,t).catch((function(r){return t.error(r)}))}))}function K(r,t,n,e,o){void 0===e&&(e=0),void 0===o&&(o=!1);var i=t.schedule((function(){n(),o?r.add(this.schedule(null,e)):this.unsubscribe()}),e);if(r.add(i),!o)return i}function N(r,t){return void 0===t&&(t=0),U((function(n,e){n.subscribe(k(e,(function(n){return K(e,r,(function(){return e.next(n)}),t)}),(function(){return K(e,r,(function(){return e.complete()}),t)}),(function(n){return K(e,r,(function(){return e.error(n)}),t)})))}))}function Q(r,t){return void 0===t&&(t=0),U((function(n,e){e.add(r.schedule((function(){return n.subscribe(e)}),t))}))}function V(r,t){if(!r)throw new Error("Iterable cannot be null");return new j((function(n){K(n,t,(function(){var e=r[Symbol.asyncIterator]();K(n,t,(function(){e.next().then((function(r){r.done?n.complete():n.next(r.value)}))}),0,!0)}))}))}function W(r,t){if(null!=r){if(M(r))return function(r,t){return H(r).pipe(Q(t),N(t))}(r,t);if(F(r))return function(r,t){return new j((function(n){var e=0;return t.schedule((function(){e===r.length?n.complete():(n.next(r[e++]),n.closed||this.schedule())}))}))}(r,t);if(R(r))return function(r,t){return H(r).pipe(Q(t),N(t))}(r,t);if(L(r))return V(r,t);if(C(r))return function(r,t){return new j((function(n){var e;return K(n,t,(function(){e=r[B](),K(n,t,(function(){var r,t,o;try{t=(r=e.next()).value,o=r.done}catch(i){return void n.error(i)}o?n.complete():n.next(t)}),0,!0)})),function(){return a(null==e?void 0:e.return)&&e.return()}}))}(r,t);if(G(r))return function(r,t){return V(D(r),t)}(r,t)}throw q(r)}function X(r,t){return t?W(r,t):H(r)}function Z(r,t){return U((function(n,e){var o=0;n.subscribe(k(e,(function(n){e.next(r.call(t,n,o++))})))}))}function $(r,t){return U((function(n,e){var o=0;n.subscribe(k(e,(function(n){return r.call(t,n,o++)&&e.next(n)})))}))}export{$ as a,X as f,Z as m};
